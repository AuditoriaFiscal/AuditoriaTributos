

<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:p="http://primefaces.org/ui"
		xmlns:c="http://java.sun.com/jstl/core">

	<h:head>
	
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="description" content="" />
		<meta name="author" content="" />
		<title>CREDFiscal - Comparação de NFe</title>
	
		<link href="../bs/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
		<link href="../bs/vendor/metisMenu/metisMenu.min.css" rel="stylesheet" />
		<link href="../bs/dist/css/sb-admin-2.css" rel="stylesheet" />
		<link href="../bs/vendor/morrisjs/morris.css" rel="stylesheet" />
		<link href="../bs/vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
		<script name="jquery/jquery.js" library="primefaces"></script>
	</h:head>
	
	<body>
	
	    <div id="wrapper">
	        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0">
	            <div class="navbar-header">
	                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
	                    <span class="sr-only"></span>
	                    <span class="icon-bar"></span>
	                    <span class="icon-bar"></span>
	                    <span class="icon-bar"></span>
	                </button>
	                <a class="navbar-brand" href="index.html">CREDFiscal - Sistema de cálculo de cédito fiscal</a>
	            </div>
	
	            <ul class="nav navbar-top-links navbar-right">
	                <li class="dropdown">
	                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">
	                        <i class="fa fa-user fa-fw"></i> <i class="fa fa-caret-down"></i>
	                    </a>
	                    <ul class="dropdown-menu dropdown-user">
	                        <li><a href="#"><i class="fa fa-user fa-fw"></i>Perfil do usuário</a>
	                        </li>
	                        <li class="divider"></li>
	                        <li><a href="#"><i class="fa fa-sign-out fa-fw"></i> Sair</a>
	                        </li>
	                    </ul>
	                </li>
	            </ul>
	
	            <div class="navbar-default sidebar" role="navigation">
	                <div class="sidebar-nav navbar-collapse">
	                    <ul class="nav" id="side-menu">
	                        <li>
	                            <a href="nfe.xhtml?faces-redirect=true"><i class="fa fa-edit fa-fw"></i>NFe</a>
	                        </li>
	                        <li>
	                            <a href="#"><i class="fa fa-edit fa-fw"></i>SPED</a>
	                        </li>
	                    </ul>
	                </div>
	                <!-- /.sidebar-collapse -->
	            </div>
	            <!-- /.navbar-static-side -->
	        </nav>
	
			<div id="page-wrapper">
				<div class="row">
					<div class="col-lg-12">
						<h1 class="page-header">Comparação de NFe</h1>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12">
						<div class="panel panel-default">
							<div class="panel-heading">
								Inclusão de NFe
							</div>
							<div class="panel-body">
								<h:form enctype="multipart/form-data">
									<div class="row">
										<div class="col-lg-12">
											<p:messages id="messages" showDetail="true" autoUpdate="true" closable="true" />
											<div class="form-group">
												<p:outputLabel value="Arquivo: " />
												<p:fileUpload fileUploadListener="#{documentoBean.upload}" 
															  mode="advanced"
															  fileLimit="2" 
															  fileLimitMessage="Só é possível escolher 2 arquivos por vez."
															  
															  allowTypes="/(\.|\/)(xml)$/"
															  invalidFileMessage="É permitido somente arquivo xml"
															  
															  label="Escolher" 
															  uploadLabel="Enviar" 
															  cancelLabel="Cancelar" 
															  
															  sequential="true"
															  dragDropSupport="true"
															  
															  update="tabelaDocumentoEntrada tabelaDocumentoSaida"/>
											</div>

										</div>
										
										<div class="col-lg-12">
											<div class="form-group">
												<p:outputLabel value="Resultado Documento entrada: " />
											</div>
											<p:dataTable id="tabelaDocumentoEntrada" var="documento" value="#{documentoBean.documentoEntrada}">
												<p:column headerText="Id">
													<h:outputText value="#{documento.nomeNota}" />
												</p:column>
												<p:column headerText="Item">
													<ui:repeat var="item" value="#{documento.itens}">
														<p:column headerText="NCM">
															<h:outputText value="#{item.idNcm}" />
															<ui:repeat var="itemResult" value="#{item.itensResult}">
																<h:outputLabel value="#{itemResult.descricao}" />
															</ui:repeat>
														</p:column>
													</ui:repeat>
												</p:column>
											</p:dataTable>
										</div>
										<div class="col-lg-12">
											<div class="form-group">
												<p:outputLabel value="Resultado Documento saída: " />
											</div>
											<p:dataTable id="tabelaDocumentoSaida" var="documento" value="#{documentoBean.documentoSaida}">
												<p:column headerText="Id">
													<h:outputText value="#{documento.nomeNota}" />
												</p:column>
												<p:column headerText="Item">
													<ui:repeat var="item" value="#{documento.itens}">
														<p:column headerText="NCM">
															<h:outputText value="#{item.idNcm}" />
															<ui:repeat var="itemResult" value="#{item.itensResult}">
																<h:outputLabel value="#{itemResult.descricao}" />
															</ui:repeat>
														</p:column>
													</ui:repeat>
												</p:column>
											</p:dataTable>
										</div>
									</div>
								</h:form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>